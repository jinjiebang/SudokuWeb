(function(t){function e(e){for(var o,s,u=e[0],a=e[1],c=e[2],h=0,v=[];h<u.length;h++)s=u[h],n[s]&&v.push(n[s][0]),n[s]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o]);l&&l(e);while(v.length)v.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],o=!0,u=1;u<r.length;u++){var a=r[u];0!==n[a]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var o={},n={app:0},i=[];function s(e){if(o[e])return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=o,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(r,o,function(e){return t[e]}.bind(null,o));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],a=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var l=a;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("cd49")},"034f":function(t,e,r){"use strict";var o=r("64a9"),n=r.n(o);n.a},"0534":function(t,e,r){"use strict";var o=r("c8c6"),n=r.n(o);n.a},"422d":function(t,e,r){"use strict";var o=r("5f2c"),n=r.n(o);n.a},"5f2c":function(t,e,r){},"64a9":function(t,e,r){},c8c6:function(t,e,r){},cd49:function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var o=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[t._m(0),r("board",{attrs:{items:t.items,isBlank:t.isBlank},on:{"input-num":t.inputNum,"delete-num":t.deleteNum}}),r("div",{staticClass:"btn-box"},[r("input",{staticClass:"btn",attrs:{type:"button",value:"出题"},on:{click:function(e){return t.showSubject(1)}}}),r("input",{staticClass:"btn",attrs:{type:"button",value:"求解"},on:{click:t.solve}}),r("input",{staticClass:"btn",attrs:{type:"button",value:"清空"},on:{click:t.clearSudoku}})])],1)},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"game-info"},[r("p",[t._v("数独规则:每一行、每一列、每一个小九宫格不重复")])])}],s=(r("6c7b"),r("d225")),u=r("b0b4"),a=r("308d"),c=r("6bb5"),l=r("4e2b"),h=r("9ab4"),v=r("60a3"),f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"board",class:{shake:t.isShake}},[t._l(t.items,function(e,o){return r("div",{key:o,staticClass:"board-row clear"},t._l(e,function(e,n){return r("square",{key:9*o+n,attrs:{value:e,selected:o===t.curRow&&n===t.curCol,"hover-col":n===t.hoverCol,error:o===t.errInput.x&&n===t.errInput.y||o===t.errRow.x&&n===t.errRow.y||o===t.errCol.x&&n===t.errCol.y},nativeOn:{click:function(e){return t.showCheck(o,n)},mouseenter:function(e){return t.showHoverCol(n)},mouseleave:function(e){return t.showHoverCol(-1)}}})}),1)}),r("board-check",{attrs:{curRow:t.curRow,curCol:t.curCol,checkShow:t.checkShow},on:{"input-num":t.inputNum}})],2)},p=[],b=(r("ac6a"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"square",class:{no:0===t.value,cur:!0===t.selected,"cur-col":!0===t.hoverCol,err:!0===t.error}},[t._v(t._s(0===t.value?"":t.value))])}),d=[],k=(r("c5f6"),function(t){function e(){return Object(s["a"])(this,e),Object(a["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(v["d"]));h["a"]([Object(v["c"])(Number)],k.prototype,"value",void 0),h["a"]([Object(v["c"])(Boolean)],k.prototype,"selected",void 0),h["a"]([Object(v["c"])(Boolean)],k.prototype,"hoverCol",void 0),h["a"]([Object(v["c"])(Boolean)],k.prototype,"error",void 0),k=h["a"]([v["a"]],k);var y=k,w=y,m=r("2877"),S=Object(m["a"])(w,b,d,!1,null,null,null),C=S.exports,O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.checkShow,expression:"checkShow"}],staticClass:"board-check",style:{top:60*(t.curRow+1)+"px",left:60*(t.curCol+1)+"px"}},[r("ul",t._l(9,function(e){return r("li",{key:e,on:{click:function(r){return t.inputNum(e)}}},[t._v(t._s(e))])}),0)])},j=[],B=function(t){function e(){return Object(s["a"])(this,e),Object(a["a"])(this,Object(c["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(u["a"])(e,[{key:"inputNum",value:function(t){return t}}]),e}(v["d"]);h["a"]([Object(v["c"])(Number)],B.prototype,"curRow",void 0),h["a"]([Object(v["c"])(Number)],B.prototype,"curCol",void 0),h["a"]([Object(v["c"])(Boolean)],B.prototype,"checkShow",void 0),h["a"]([Object(v["b"])()],B.prototype,"inputNum",null),B=h["a"]([v["a"]],B);var R=B,g=R,N=(r("422d"),Object(m["a"])(g,O,j,!1,null,"ec54420a",null)),E=N.exports,_=function t(){Object(s["a"])(this,t),this.x=-1,this.y=-1},x=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(a["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.curRow=-1,t.curCol=-1,t.hoverCol=-1,t.checkShow=!1,t.errInput=new _,t.errRow=new _,t.errCol=new _,t.isShake=!1,t.isError=!1,t}return Object(l["a"])(e,t),Object(u["a"])(e,[{key:"showCheck",value:function(t,e){this.isError||this.isBlank[t][e]&&(t===this.curRow&&e===this.curCol?this.checkShow=!1:(this.curRow=t,this.curCol=e,this.checkShow=!0))}},{key:"showHoverCol",value:function(t){console.log("showHoverCol",t),this.hoverCol=t}},{key:"inputNum",value:function(t){var e=[this.curRow,this.curCol,t];return this.checkError(this.curRow,this.curCol,t),this.curRow=-1,this.curCol=-1,this.checkShow=!1,e}},{key:"deleteNum",value:function(t,e,r){return[t,e,r]}},{key:"checkError",value:function(t,e,r){var o=this,n=!1;this.errRow=new _,this.errInput=new _,this.errCol=new _,this.items[t].forEach(function(e,i){e===r&&(o.errRow.x=t,o.errRow.y=i,n=!0)});for(var i=0;i<this.items.length;i++)for(var s=0;s<this.items[i].length;s++)s===e&&this.items[i][s]===r&&(this.errCol.x=i,this.errCol.y=e,n=!0);n&&(this.isError=!0,this.isShake=!0,this.errInput.x=t,this.errInput.y=e,setTimeout(function(){o.isError=!1,o.isShake=!1,o.errInput=new _,o.errRow=new _,o.errCol=new _,o.deleteNum(t,e,r)},1e3))}}]),e}(v["d"]);h["a"]([Object(v["c"])()],x.prototype,"items",void 0),h["a"]([Object(v["c"])()],x.prototype,"isBlank",void 0),h["a"]([Object(v["b"])()],x.prototype,"inputNum",null),h["a"]([Object(v["b"])()],x.prototype,"deleteNum",null),x=h["a"]([Object(v["a"])({components:{BoardCheck:E,Square:C}})],x);var q=x,I=q,P=(r("0534"),Object(m["a"])(I,f,p,!1,null,"2c5f482c",null)),M=P.exports,A=(r("55dd"),function(){function t(){Object(s["a"])(this,t),this.init()}return Object(u["a"])(t,[{key:"init",value:function(){var t,e,r;for(this.InBlock=[],this.InRow=[],this.InCol=[],t=0;t<9;t++)for(e=0;e<9;e++)r=9*t+e,this.InRow[r]=t,this.InCol[r]=e,this.InBlock[r]=3*Math.floor(t/3)+Math.floor(e/3);this.BLANK=0}},{key:"setData",value:function(t){var e;for(this.data=t,this.SeqPtr=0,this.Count=0,this.Sequence=[],this.Entry=[],this.LevelCount=[],e=0;e<81;e++)this.Sequence[e]=e,this.Entry[e]=this.BLANK,this.LevelCount[e]=0;this.ONES=parseInt("3fe",16),this.Block=[],this.Row=[],this.Col=[];for(var r=0;r<9;r++)this.Block[r]=this.Row[r]=this.Col[r]=this.ONES;this.inputData()}},{key:"solve",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.MAX_VALUE;return this.limit=t,this.results=[],this.Place(this.SeqPtr),this.results}},{key:"inputData",value:function(){var t,e;for(t=0;t<9;t++)for(e=0;e<9;e++)0!=this.data[t][e]&&this.InitEntry(t,e,this.data[t][e])}},{key:"InitEntry",value:function(t,e,r){var o,n=9*t+e,i=1<<r;this.Entry[n]=i,this.Block[this.InBlock[n]]&=~i,this.Col[e]&=~i,this.Row[t]&=~i,o=this.SeqPtr;while(o<81&&this.Sequence[o]!=n)o++;this.SwapSeqEntries(this.SeqPtr,o),this.SeqPtr++}},{key:"SwapSeqEntries",value:function(t,e){var r=this.Sequence[e];this.Sequence[e]=this.Sequence[t],this.Sequence[t]=r}},{key:"Succeed",value:function(){this.SaveResult()}},{key:"Place",value:function(t){if(t>=81)this.Succeed();else if(!(this.results.length>=this.limit)){this.LevelCount[t]++,this.Count++;var e=this.NextSeq(t);this.SwapSeqEntries(t,e);var r=this.Sequence[t],o=this.InBlock[r],n=this.InRow[r],i=this.InCol[r],s=this.Block[o]&this.Row[n]&this.Col[i];while(s){var u=s&-s;s&=~u,this.Entry[r]=u,this.Block[o]&=~u,this.Row[n]&=~u,this.Col[i]&=~u,this.Place(t+1),this.Entry[r]=this.BLANK,this.Block[o]|=u,this.Row[n]|=u,this.Col[i]|=u}this.SwapSeqEntries(t,e)}}},{key:"getPossibles",value:function(t){var e=[];while(t){var r=t&-t;t&=~r,e.push(this.getNum(r))}}},{key:"getNum",value:function(t){for(var e=1;e<=9;e++)if(t==1<<e)return e;return 0}},{key:"NextSeq",value:function(t){var e,r,o,n,i=t,s=100;for(n=t;n<81;n++){e=this.Sequence[n],r=this.Block[this.InBlock[e]]&this.Row[this.InRow[e]]&this.Col[this.InCol[e]],o=0;while(r)r&=~(r&-r),o++;o<s&&(s=o,i=n)}return i}},{key:"SaveResult",value:function(){var t,e,r,o=0,n=[];for(t=0;t<9;t++)for(n[t]=[],e=0;e<9;e++)r=this.Entry[o++],n[t][e]=0==r?0:this.getNum(r);this.results.push(n)}}]),t}()),D=function(){function t(){Object(s["a"])(this,t)}return Object(u["a"])(t,[{key:"generate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.board=new Array(81).fill(0),this.blocks=[];for(var e=0;e<9;e++){for(var r=[],o=3*Math.floor(e/3),n=3*Math.floor(e%3),i=o;i<o+3;i++)for(var s=n;s<n+3;s++)r.push(9*i+s);this.blocks.push(r)}this.randBlock(this.blocks[0]),this.randBlock(this.blocks[4]),this.randBlock(this.blocks[8]);var u=new A;u.setData(this.getBoardData());var a=u.solve(1)[0];return this.placeSpace(a,t),a}},{key:"randBlock",value:function(t){var e=[1,2,3,4,5,6,7,8,9];e.sort(function(){return Math.random()-.5});for(var r=0;r<9;r++)this.board[t[r]]=e[r]}},{key:"getBoardData",value:function(){for(var t=[],e=0;e<9;e++){t.push([]);for(var r=0;r<9;r++)t[e][r]=this.board[9*e+r]}return t}},{key:"placeSpace",value:function(t,e){for(var r=[],o=0;o<81;o++)r.push(o);for(var n=0;n<e;n++){var i=Math.floor(Math.random()*r.length),s=r[i],u=Math.floor(s/9),a=s%9;t[u][a]=0,r.splice(i,1)}}}]),t}(),L=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(a["a"])(this,Object(c["a"])(e).call(this)),t.items=[],t.isBlank=[],t.sudokuFactory=new D,t.sudokuSolver=new A,t}return Object(l["a"])(e,t),Object(u["a"])(e,[{key:"mounted",value:function(){var t=this;this.$nextTick(function(){t.showSubject(1)})}},{key:"showSubject",value:function(t){var e=Math.max(1,9*t-1);this.items=this.sudokuFactory.generate(e);for(var r=[],o=0;o<9;o++){r.push([]);for(var n=0;n<9;n++)0===this.items[o][n]?r[o][n]=!0:r[o][n]=!1}this.isBlank=r}},{key:"solve",value:function(){this.sudokuSolver.setData(this.items);var t=this.sudokuSolver.solve(1);this.items=t[0]}},{key:"clearSudoku",value:function(){for(var t=0;t<this.items.length;t++){var e=new Array(9).fill(0);this.items.splice(t,1,e)}}},{key:"inputNum",value:function(t){var e=t[0],r=t[1],o=t[2];this.items[e].splice(r,1,o);var n=this.items.every(function(t){return t.every(function(t){return t>0})});n&&alert("你很棒，已经全部解出来了！")}},{key:"deleteNum",value:function(t){var e=t[0],r=t[1];this.items[e].splice(r,1,0)}}]),e}(v["d"]);L=h["a"]([Object(v["a"])({components:{Board:M}})],L);var $=L,T=$,H=(r("034f"),Object(m["a"])(T,n,i,!1,null,null,null)),K=H.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(K)}}).$mount("#app")}});
//# sourceMappingURL=app.ab3829c9.js.map